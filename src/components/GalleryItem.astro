---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
  src: ImageMetadata;
  alt: string;
  caption: string;
}

const { src, alt, caption } = Astro.props;
---

<figure class="flex flex-col">
  <div class="aspect-square overflow-hidden rounded-sm bg-brown/10">
    <Image
      src={src}
      alt={alt}
      class="w-full h-full object-cover"
      loading="lazy"
      widths={[400, 800]}
      sizes="(max-width: 768px) 50vw, 33vw"
    />
  </div>
  <figcaption class="font-body mt-2 text-base text-brown italic text-center" set:html={caption} />
</figure>
